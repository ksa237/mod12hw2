DROP TABLE IF EXISTS public.customers, public.orders CASCADE;

create table public.customers (
id int GENERATED ALWAYS AS IDENTITY primary key,
name varchar(20) not null,
surname varchar(30) not null,
age int check (age > 0) not null
);

create table public.orders (
id int GENERATED ALWAYS AS IDENTITY primary key,
day date not null,
customer_id int not null,
product_name varchar(150),
amount numeric,

CONSTRAINT fk_customer
foreign key (customer_id) references netology.customers (id)
on delete restrict
on update restrict
);

INSERT INTO public.customers (name, surname, age) VALUES
    ('Aleksandr', 'Ivanov', 25),
    ('Dmitrij', 'Petrov', 34),
    ('Sergej', 'Smirnov', 41),
    ('Andrej', 'Kuznecov', 29),
    ('Mixail', 'Popov', 52),
    ('Ivan', 'Vasiliev', 23),
    ('Roman', 'Volkov', 47),
    ('Evgenij', 'Romanov', 38),
    ('Vladimir', 'Morozov', 50),
    ('Nikolaj', 'Fedorov', 27),
    ('Artjom', 'Mixajlov', 33),
    ('Konstantin', 'Novikov', 44),
    ('Pavel', 'Aleksandrov', 21),
    ('Ilja', 'Pavlov', 39),
    ('Denis', 'Semjonov', 48),
    ('Maksim', 'Makarov', 26),
    ('Oleg', 'Nikitin', 35),
    ('Vitalij', 'Zaxarov', 55),
    ('Anton', 'Sokolov', 30),
    ('Jaroslav', 'Andreev', 42);


INSERT INTO public.orders (day, customer_id, product_name, amount)
VALUES
    ('2026-01-03', 5,  'USB-флешка 64 ГБ', 1299.50),
    ('2026-01-05', 12, 'Беспроводная мышь', 899.99),
    ('2026-01-07', 3,  'Наушники-вкладыши', 1450.00),
    ('2026-01-09', 18, 'Внешний аккумулятор 10000 мАч', 2499.90),
    ('2026-01-11', 7,  'Кабель USB-C — USB-A', 399.00),
    ('2026-01-14', 1,  'Коврик для мыши игровой', 599.50),
    ('2026-01-16', 15, 'USB-хаб на 4 порта', 1199.00),
    ('2026-01-18', 9,  'Bluetooth-адаптер', 749.99),
    ('2026-01-20', 4,  'Защитное стекло для смартфона', 299.00),
    ('2026-01-22', 19, 'Проводные наушники с микрофоном', 699.50),
    ('2026-01-24', 2,  'Карта памяти microSD 128 ГБ', 1699.00),
    ('2026-01-26', 11, 'Подставка для ноутбука охлаждающая', 1349.90),
    ('2026-01-28', 6,  'Микрофон настольный', 2199.00),
    ('2026-01-30', 17, 'USB-фонарик', 449.50),
    ('2026-02-01', 8,  'Беспроводные наушники TWS', 3499.00),
    ('2026-02-03', 14, 'Сетевой фильтр на 5 розеток', 1099.99),
    ('2026-02-05', 10, 'Веб‑камера HD', 1799.50),
    ('2026-02-07', 20, 'Power Bank 20000 мАч', 2899.00),
    ('2026-02-09', 3,  'USB-микрофон', 2299.90),
    ('2026-02-11', 7,  'Клавиатура механическая', 3199.00),
    ('2026-02-13', 13, 'Наушники с шумоподавлением', 4299.50),
    ('2026-02-15', 5,  'HDMI-кабель 2м', 649.00),
    ('2026-02-17', 16, 'Веб‑камера с микрофоном', 1549.99),
    ('2026-02-19', 2,  'USB-вентилятор', 799.50),
    ('2026-02-21', 9,  'Внешний SSD 500 ГБ', 3699.00),
    ('2026-02-23', 11, 'Беспроводная клавиатура', 1899.00),
    ('2026-02-25', 4,  'Зарядное устройство USB-C 20W', 999.90),
    ('2026-02-27', 18, 'Микрофон-петличка', 1449.50),
    ('2026-02-28', 6,  'USB-светильник', 549.00),
    ('2026-01-04', 10, 'Bluetooth-колонка портативная', 2799.00),
    ('2026-01-08', 1,  'Чехол для ноутбука 15.6"', 849.50),
    ('2026-01-12', 14, 'USB-мышь проводная', 499.00),
    ('2026-01-17', 8,  'Держатель для телефона в авто', 349.99),
    ('2026-01-23', 19, 'USB-адаптер Wi‑Fi', 1049.00),
    ('2026-02-02', 3,  'Внешние колонки 2.0', 2349.50),
    ('2026-02-06', 12, 'USB-микроскоп', 1999.00),
    ('2026-02-10', 7,  'Беспроводная зарядка', 1649.90),
    ('2026-02-14', 5,  'Веб‑камера 1080p', 1249.50),
    ('2026-02-18', 17, 'USB-концентратор 7 портов', 1799.00),
    ('2026-02-24', 9,  'Наушники игровые с подсветкой', 2599.99);

